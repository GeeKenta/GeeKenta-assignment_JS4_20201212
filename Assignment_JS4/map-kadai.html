<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Google Map API使ってみた</title>
</head>
<style>
    #target{
        width: 550px;
        height: 200px;
    }
</style>
<body>
    <div id="target"></div>

    <script src="https://maps.googleapis.com/maps/api/js?language=ja&region=jp&key=AIzaSyBfF4fTAAzd4gFvcIKVtOetXwusbkDUt_A&callback=initMap" async defer></script>
    <script>
        function initMap(){
            'use strict';

            var target = document.getElementById('target');
            var map;
            var tokyo = {lat: 35.681167, lng: 139.767052};
            //var marker;

            map = new google.maps.Map(target, {
                center: tokyo, 
                zoom: 15,
                mapTypeId: "hybrid",
            });

            map.addListener('click', function(e){
              console.log(e.latLng.lat());
              console.log(e.latLng.lng());
              console.log(e.latLng.toString());
              this.panTo(e.latLng);
            });

            marker = new google.maps.Marker({
              position: tokyo,
              map: map,
              title: 'Tokyo!',
              icon: {
                  url: 'icon.png',
                  scaledSize: new google.maps.Size(44, 44)
              },
              animation: google.maps.Animation.BOUNCE,
              animation: google.maps.Animation.DROP
            });

            // map.addListener('click', function(e){
            //     var marker2 = new google.maps.Marker({
            //         position: e.latLng,
            //         map: map,
            //         title: e.latLng.toString(),
            //         animation: google.maps.animation.DROP
            //     }); 
            //     marker.addListener("click", function(){
            //         this.setMap(null);
            //    });
            // // });
        }
    </script>

</body>
</html>